#<div align = center>shell语句</div>
===================================

##引言

***

&emsp;&emsp;第二章相当于讲解了基本变量定义，好比我们在学习说中文时，首先是基本的字母发音，然后是单个字的发音，最后是一句话。这里介绍shell也是如此，
先介绍基本的变量，然后是语句，最后一个.sh文件。而基本的语句就需要主谓宾和修饰语句了。本文主要介绍条件，循环语句。

##一、shell语句

&emsp;&emsp;在生活中，问一句：你吃饭了么？这就是一句普通的语句。而我们熟悉的语言世界中一句当然是hello world

而怎样用shell和大家打招呼呢，编辑test.sh、内容为
```
#! /bin/bash
echo "hello world"
```

##二、shell控制语句

&emsp;&emsp;shell中的控制语句和其他编程语言类似。Shell中有3中循环，分别是for,while,until，until与while正好相反，前者条件为假则执行，后者条件为真时执行。基本和C语言中额循环没什么区别。只是语法上有些差异。

###1.if语句

```
if [ expression ]; then
	Statements
elif [ expression ]; then
	statements
else 
	statements
fi
```
通常，if的测试部分是利用test命令实现的。其实，条件测试可以利用一般命令执行成功与否来作判断。如果命令正常结束，则表示执行成功，其返回值为0，条件测试为真；如果命令执行不成功，其返回值不等于0，条件测试就为假。所以if的语句的更一般形式是：
```
if 命令表1
then 命令表2
else 命令表3
fi
```

###2.while语句

while语句的一般形式是：

```
while 测试条件
do
	命令表
done
```

其执行过程是，先进行条件测试，如果结果为真，则进入循环体(do―done之间部分)， 执行其中命令；然后再做条件测试……直至测试条件为假时才终止while语句的执行。

```
while [ $1 ]
do
	if [ -f $1 ]
	then 
		echo "display : $1 "
		cat $1
	else 
		echo "$1 is not a file name . "
	fi
	shift
done
```

###3.until语句

until语句的一般形式是：
```
until 测试条件
do
	命令表
done
```
它与while语句很相似，只是测试条件不同：当测试条件为假时，才进入循环体，直至测试条件为真时终止循环。

###4.for语句

for语句是最常用的建立循环结构的语句。其使用格式主要有三种，取决于循环变量的取值方式。

格式一：
```
for 变量 in 值表
do
	命令表
done
```

例如：
```
for day in Monday Wednesday Friday Sunday
do
echo $day
done
```
其执行过程是，变量day依次取值表中各字符串，即第一次将“Monday”赋给day，然后进入循环体，执行其中的命令，显示出 Monday。第二次将“Wednesday”赋给day，然后执行循环体中命令，显示出Wednesday。依次处理，当day把值表中各字符串都取过 一次之后，下面day的值就变为空串，从而结束for循环。因此，值表中字符串的个数就决定了for循环执行的次数。在格式上，值表中各字符串之间以空格 隔开。

格式二：
```
for 变量 in 文件正则表达式
do
	命令表
done
```
其执行过程是，变量的值依次取当前目录下（或给定目录下）与正则表达式相匹配的文件名，每取值一次，就进入循环体执行命令表，直至所有匹配的文件名取完为止，退出for循环。

格式三：
```
for i in $* 或者 for i
 do do
命令表 命令表
done done
```
这两种形式是等价的。其执行过程是，变量i 依次取位置参数的值，然后执行循环体中的命令表，直至所有位置参数取完为止。

###5.case语句

```
case 字符串 in

模式字符串1） 命令

…

命令;;

模式字符串2） 命令

…

命令;;

…

模式字符串n） 命令

…

命令;;

Esac
```

其执行过程是用“字符串”的值依次与各模式字符串进行比较，如果发现同某一个匹配，那么就执行该模式字符串之后的各个命令，直至遇到两个分号为止。如果没有任何模式字符串与该字符串的值相符合，则不执行任何命令。

在使用case语句时应注意：

（1）每个模式字符串后面可有一条或多条命令，其最后一条命令必须以两个分号(即；；)结束。

（2）模式字符串中可以使用通配符。

（3） 如果一个模式字符串中包含多个模式，那么各模式之间应以竖线（|）隔开，表示各模式是“或”的关系，即只要给定字符串与其中一个模式相配，就会执行其后的命令表。

（4）各模式字符串应是惟一的，不应重复出现。并且要合理安排它们的出现顺序。例如，不应将“*”作为头一个模式字符串，因为“*”可以与任何字符串匹配，它若第一个出现，就不会再检查其它模式了。

（5）case语句以关键字case开头，以关键字esac(是case倒过来写！)结束。

（6）case的退出（返回）值是整个结构中最后执行的那个命令的退出值。若没有执行任何命令，则退出值为零。

###6.break命令和continue命令

break命令可以使我们从循环体中退出来。其语法格式是：

break [ n ]

其中，n表示要跳出几层循环。默认值是1，表示只跳出一层循环。

continue命令跳过循环体中在它之后的语句，回到本层循环的开头，进行下一次循环。其语法格式是：

continue [ n ]

其中，n表示从包含continue语句的最内层循环体向外跳到第几层循环。默认值为1。循环层数是由内向外编号。

###7.Shift语句

用于处理位置变量，每一次一个变量从左向灰地处理。每次把每个变量向左移动一个位置，将当前的$1参数丢弃。

Shift number

默认number是1，即左移一个位置。

Shell执行脚本时，其实是生成了一个子shell,用这个子shell来执行脚本。




